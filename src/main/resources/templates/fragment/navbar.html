<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Fragment: Navbar</title>
</head>
<body>
<nav class="navbar" th:fragment="navbar">
    <div class="container">
        <div class="nav-content">
            <a href="/" class="brand">
                <i data-lucide="building-2" class="brand-icon"></i>
                <span class="brand-name">GuestGate</span>
            </a>

            <div class="nav-links">
                <a th:href="@{/search}" sec:authorize="!hasRole('ROLE_ADMIN')">Search Hotels</a>
                <a th:href="@{/register/manager}" sec:authorize="isAnonymous()">List your property</a>
                <a th:href="@{/register/customer}" sec:authorize="isAnonymous()">Register</a>
                <a th:href="@{/login}" class="login-btn" sec:authorize="isAnonymous()">
                    <i data-lucide="log-in" style="width: 1rem; height: 1rem;"></i>
                    <span>Login</span>
                </a>
                <a th:href="@{/admin/dashboard}" sec:authorize="hasRole('ROLE_ADMIN')">Dashboard</a>
                <a th:href="@{/manager/dashboard}" sec:authorize="hasRole('ROLE_HOTEL_MANAGER')">Dashboard</a>
                <a th:href="@{/customer/bookings}" sec:authorize="hasRole('ROLE_CUSTOMER')">My Bookings</a>
                <form class="d-inline" method="post" th:action="@{/logout}" sec:authorize="isAuthenticated()">
                    <button class="btn btn-link nav-link login-btn" type="submit">
                        <i data-lucide="log-out" style="width: 1rem; height: 1rem;"></i>
                        <span>Logout</span>
                    </button>
                </form>
            </div>

            <button class="mobile-menu-btn" onclick="toggleMobileMenu()">
                <i data-lucide="menu"></i>
            </button>
        </div>

        <div class="mobile-menu" id="mobileMenu">
            <a th:href="@{/search}" sec:authorize="!hasRole('ROLE_ADMIN')">Search Hotels</a>
            <a th:href="@{/register/manager}" sec:authorize="isAnonymous()">List your property</a>
            <a th:href="@{/register/customer}" sec:authorize="isAnonymous()">Register</a>
            <a th:href="@{/login}" sec:authorize="isAnonymous()">Login</a>
            <a th:href="@{/admin/dashboard}" sec:authorize="hasRole('ROLE_ADMIN')">Dashboard</a>
            <a th:href="@{/manager/dashboard}" sec:authorize="hasRole('ROLE_HOTEL_MANAGER')">Dashboard</a>
            <a th:href="@{/customer/bookings}" sec:authorize="hasRole('ROLE_CUSTOMER')">My Bookings</a>
            <form class="d-inline" method="post" th:action="@{/logout}" sec:authorize="isAuthenticated()">
                <button class="btn btn-link nav-link login-btn" type="submit">
                    <i data-lucide="log-out" style="width: 1rem; height: 1rem;"></i>
                    <span>Logout</span>
                </button>
            </form>
        </div>
    </div>
</nav>
</body>
</html>